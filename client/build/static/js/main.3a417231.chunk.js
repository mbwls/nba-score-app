(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{268:function(e,a,t){e.exports=t(554)},479:function(e,a,t){},480:function(e,a,t){},526:function(e,a,t){},527:function(e,a,t){},528:function(e,a,t){},529:function(e,a,t){},531:function(e,a,t){},554:function(e,a,t){"use strict";t.r(a);t(269);var n=t(0),c=t.n(n),r=t(11),s=t.n(r),o=t(133),l=(t(479),t(260)),m=t(67),i=t(54),d=t(249),u=t(250),E=t(263),p=t(251),f=t(264),h=t(129),y=t.n(h),b=t(556),w=t(557),v=t(558),g=t(82),D=t(5),O=t.n(D),S={},N=O()();S.app_url="nba-score",S.server_url="localhost"!==window.location.hostname?"":"http://localhost:3005/",S.TODAY=N.clone().startOf("day"),S.YESTERDAY=N.clone().subtract(1,"days").startOf("day"),S.TOMORROW=N.clone().add(1,"days").startOf("day");var T=S,j=t(555),R=(t(480),function(e){var a=Object(n.useState)(!1),t=Object(g.a)(a,2),r=t[0],s=t[1];r||(e.setScoresDate(O()(e.dateKey).clone().format("YYYYMMDD")),s(!0));for(var o=[],l=1,m=O()(e.dateKey).subtract(O()(e.dateKey).isoWeekday(),"d");l<=7;)o.push(O()(m).clone().add(l,"d")),l++;return c.a.createElement(c.a.Fragment,null,c.a.createElement("nav",{className:"date-nav"},c.a.createElement("ul",null,o.map(function(a){return c.a.createElement("li",{key:O()(a).format("YYYY-MM-DD")},c.a.createElement("div",{value:a,className:a.startOf("day").isSame(O()(e.dateKey).clone().startOf("day"))?"current-date date-label":"date-label",onClick:function(){return e.setScoresDate(a)}},a.startOf("day").isSame(T.TODAY)?"Today":a.startOf("day").isSame(T.YESTERDAY)?"Yesterday":a.startOf("day").isSame(T.TOMORROW)?"Tomorrow":O()(a).format("ddd D MMM")))}))),c.a.createElement(j.a,{defaultValue:O()(e.dateKey).clone(),className:"date-btn",placeholder:"",onChange:function(a,t){e.setScoresDate(t)}}))}),Y=(t(526),function(e){var a=Object(n.useState)(!1),t=Object(g.a)(a,2),r=t[0],s=t[1];r||void 0===e.gameData||s(!0);var o=Object(n.useState)(!1),l=Object(g.a)(o,2),m=l[0],i=l[1];m||void 0===e.dailyRefData.teamReferences||i(!0);var d=function(a){return y.a.find(e.dailyRefData.teamReferences,{id:a})},u=function(e){switch(e){case"BRO":return"BKN";case"OKL":return"OKC";default:return e}},E=d(e.gameData.homeTeam.id),p=d(e.gameData.awayTeam.id),f=e.scoreData.homeScoreTotal>e.scoreData.awayScoreTotal;return m&&r?c.a.createElement("div",{className:"score-card".concat(e.selectedGame.id===e.gameData.id?" selected":""),onClick:function(){return e.setSelectedGame(e.gameData)}},E&&p&&e.scoreData?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"team-info away"},c.a.createElement("span",{className:"team-name",style:f?null:{fontWeight:"bold"}},"".concat(p.city," ").concat(p.name)),c.a.createElement("div",{className:"icon-wrapper"},c.a.createElement("img",{alt:"away-logo",width:45,height:45,src:"https://www.nba.com/assets/logos/teams/primary/web/".concat(u(p.abbreviation),".svg")}))),c.a.createElement("div",{className:"game-score"},c.a.createElement("span",{style:f?null:{fontWeight:"bold"}},e.scoreData.awayScoreTotal),c.a.createElement("span",null," - "),c.a.createElement("span",{style:f?{fontWeight:"bold"}:null},e.scoreData.homeScoreTotal),c.a.createElement("br",null),c.a.createElement("span",{className:"game-time"},"Final")),c.a.createElement("div",{className:"team-info home"},c.a.createElement("div",{className:"icon-wrapper"},c.a.createElement("img",{alt:"home-logo",width:45,height:45,src:"https://www.nba.com/assets/logos/teams/primary/web/".concat(u(E.abbreviation),".svg")})),c.a.createElement("span",{className:"team-name",style:f?{fontWeight:"bold"}:null},"".concat(E.city," ").concat(E.name)))):null):null}),_=(t(527),function(e){var a=Object(n.useState)(!1),t=Object(g.a)(a,2),r=t[0],s=t[1];return!r&&Object.keys(e.referenceData).length>0&&s(!0),r?c.a.createElement("div",{className:"game-list"},e.scoresData.map(function(a){return c.a.createElement(Y,Object.assign({},e,{key:a.schedule.id,gameData:a.schedule,scoreData:a.score,dailyRefData:e.referenceData}))})):null}),A=(t(528),t(529),function(e){return c.a.createElement("div",{className:"details-header"},c.a.createElement("div",{className:"header-logo"},c.a.createElement("img",{src:"https://www.nba.com/assets/logos/teams/primary/web/DAL.svg",width:"160",height:"120",alt:"away-team-header"}),c.a.createElement("div",{className:"header-team-name"},"Dallas Mavericks")),c.a.createElement("div",{className:"header-score"},"91 - 84"),c.a.createElement("div",{className:"header-logo"},c.a.createElement("img",{src:"https://www.nba.com/assets/logos/teams/primary/web/WAS.svg",width:"160",height:"120",alt:"home-team-header"}),c.a.createElement("div",{className:"header-team-name"},"Washington Wizards")))}),C=function(e){return c.a.createElement("div",{className:"game-details"},c.a.createElement(A,e))},M=(t(530),t(531),t(53)),k=t(185),K=t.n(k),x=t(259),W=t(186),G=t.n(W),L=function(e){var a=e.status;switch(a){case 400:case 401:case 403:case 404:case 500:return console.log("".concat(a," error!"),e);default:return"frontend error"}},I=function(e){return new Promise(function(a,t){G.a.get("".concat(T.server_url).concat(e),{headers:{"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:0,Accept:"application/json"}}).then(function(e){a(e)}).catch(function(e){t(L(e.response))})})},F="REQUEST_DAILY_SCORES",V="SET_SCORES_DATE",P="SET_SELECTED_GAME",U="UPDATE_DAILY_REFERENCE",B={setScoresDate:function(e){return function(){var a=Object(x.a)(K.a.mark(function a(t,n){var c,r;return K.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c=O()(e).format(),!(O()(n().scoresView.dateKey).clone().startOf("day").isSame(O()(c).clone().startOf("day"))&&n().scoresView.scoresData.length>0)){a.next=3;break}return a.abrupt("return");case 3:return a.next=5,I("nba-scores/nba-data/getDailyScoresRS?date=".concat(O()(c).clone().format("YYYYMMDD")));case 5:(r=a.sent).data.success&&(t({type:"SET_SCORES_DATE",payload:c}),t({type:"REQUEST_DAILY_SCORES",payload:r.data.data.games}),t({type:"UPDATE_DAILY_REFERENCE",payload:r.data.data.references}));case 7:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},setSelectedGame:function(e){return function(a,t){a({type:"SET_SELECTED_GAME",payload:e})}}},J=b.a.Content,Q=function(e){function a(){return Object(d.a)(this,a),Object(E.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"scores-view"},c.a.createElement(b.a,null,c.a.createElement(J,null,c.a.createElement(b.a,null,c.a.createElement(w.a,{className:"header-content-row"},c.a.createElement(R,this.props)),c.a.createElement(w.a,{className:"main-content-row"},c.a.createElement(v.a,{className:"main-content-col content-game-list".concat(y.a.isEmpty(this.props.selectedGame)?" open":""),span:11},c.a.createElement(_,this.props)),c.a.createElement(v.a,{className:"main-content-col content-game-details",span:13},c.a.createElement("button",{className:"close-details",onClick:function(){return e.props.setSelectedGame({})}}),c.a.createElement(C,this.props)))))))}}]),a}(n.Component),z=Object(o.b)(function(e){return e.scoresView},function(e){return Object(M.b)(Object(i.a)({},B),e)})(Q);var q=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(l.a,{basename:"nba-scores"},c.a.createElement(m.c,null,c.a.createElement(m.a,{exact:!0,path:"/scores",component:z}),c.a.createElement(m.a,{exact:!0,path:"/game/:gameID"}),c.a.createElement(m.a,{component:z}))))},H=t(261),X=t(262),Z={dateKey:O()("20190306"),scoresData:[],referenceData:[],selectedGame:{}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case V:return Object(i.a)({},e,{dateKey:a.payload});case F:return Object(i.a)({},e,{scoresData:a.payload});case U:return Object(i.a)({},e,{referenceData:a.payload});case P:return Object(i.a)({},e,{selectedGame:a.payload});default:return e}},ee=function(){var e={scoresView:$},a=[H.a,X.logger],t=[];"undefined"!==typeof window&&window.devToolsExtension&&t.push(window.devToolsExtension());var n=Object(M.c)(Object(i.a)({},e));return Object(M.e)(n,M.d.apply(void 0,[M.a.apply(void 0,a)].concat(t)))}();s.a.render(c.a.createElement(o.a,{store:ee},c.a.createElement(q,null)),document.getElementById("root"))}},[[268,1,2]]]);
//# sourceMappingURL=main.3a417231.chunk.js.map